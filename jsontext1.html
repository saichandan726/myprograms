<html>
<body>

<h2>AJAX</h2>
<tr><td>id</td><td><input type="text" name="details" id="text1" value=""></td></tr>
<button type="button" onclick="loadDoc()">Request data</button>

<!--<p id="demo"></p>-->

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
<script>
 //var getparam=$('#text1').val();  
function loadDoc() {  
  var getparam=$('#text1').val();   

$.ajax({ 
    method: 'GET', 
    url: 'source.txt', 
    data: { get_param: getparam},
    //headers: {"userid": userid},
    dataType: 'json',
    success:function(users) {
      alert("sucess");
     //alert(users.details.length);

     // var i=0
    
         document.writeln("<table border='1' width=100><tr><td>userid</td><td>title</td><td>name</td></tr>");

          
       for(var i = 0;i<users.details.length;i++){

          if (users.details[i].userid==getparam) {
      
            document.writeln("<tr>");
            document.writeln("<td>");
            document.writeln("<table border='1' width=100>");           
           document.writeln(  users.details[i].userid); 
          document.writeln("</table>");
            document.writeln("</td>");


          document.writeln("<td>");
            document.writeln("<table border='1' width=500>");
           document.writeln( users.details[i].title); 
          document.writeln("</table>");
            document.writeln("</td>");


             document.writeln("<td>");
            document.writeln("<table border='1' width=900>");
            document.writeln( users.details[i].body);
          document.writeln("</table>");
            document.writeln("</td>");
            document.writeln("</tr>");
         }

       
         }    
        document.writeln("</table>"); 
     
        
        /* var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (xhttp.readyState == 4 && xhttp.status == 200) {
      document.getElementById("demo").innerHTML = xhttp.responseText;
    }
  };
  xhttp.open("GET", "source.txt", true);
  xhttp.send();
*/
        
    },
    error:function(){
      alert("error");
    }
    
});

}


</script>

</body>
</html>


